<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="ProfilePictureCreation.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<!--<div id="loadingOverlay">Loading</div>-->
<div id="app">

    <div id="mainContainer">
        <div id="mainPanel">
            <div id="currentlyOnlineUsersPanel">
                <div class="panelTitle">Users</div>
                <user-list type="user-block"></user-list>
            </div>
            <div id="activeConversationsPanel">
                <div id="activeConversationsMain">
                    <div class="panelTitle">Active Conversations</div>
                    <user-list type="conversation-block" v-if="data.userID !== -1"></user-list>
                    <div id="activeConversationsExtraButtons" class="panelList">
                        <button id="showCreateGroupChatPopupButton" class="itemBlock" @click="data.openModal = data.modals.CreateGroupChat">
                            <div class="blockText">Create group chat</div>
                        </button>
                        <modal></modal>
                    </div>
                </div>
                <div id="userInfo">
                    <button onclick="logout()">Logout</button>
                    <button onclick="showBlockedUsersPopup()">Blocked Users</button>
                    <button onclick="startProfilePicCreator()">Create Profile Picture</button>
                    <profile-pic v-if="data.userID !== -1" :size="50" :userid="data.userID"></profile-pic>
                </div>
            </div>
            <div id="currentConversation">
                <div class="panelTitle">Conversation Name</div>
                <div id="messages">
                    <messages></messages>
                </div>
                <div id="replyBar"><div id="replyBarCloseButton"></div></div>
                <message-input></message-input>
            </div>
        </div>
        <div id="chatInfoPanel">
            <div class="panelTitle">Chat Info</div>
            <group-chat-buttons></group-chat-buttons>
            <user-list type="participant-block" v-if="data.openConversationID !== -1"></user-list>
        </div>
    </div>
    <div id="popupBackground">
        <div id="popup"></div>
    </div>
    <div id="profilePicCreatorBackground" v-show="data.profilePictureOpen">
        <div id="profilePicCreatorMainPanel">
            <div id="canvasArea">
                <div id="canvasCircle">
                    <canvas width="300" height="300" id="editCanvas"></canvas>
                </div>

            </div>
            <div id="controlPanel">
                <button id="createShapeButton" onclick="createShape()">Create new shape</button>
                <button id="saveButton" onclick="saveProfilePicture()">Save profile picture</button>
                <div id="shapesList"></div>
            </div>

        </div>
    </div>
    <div id="contextMenu"></div>
</div>
<script src="https://unpkg.com/vue@3"></script>
<script src="js.cookie.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.3/jquery-ui.min.js"></script>
<script src="Helper.js"></script>
<script src="ProfilePictureCreation.js" type="text/javascript"></script>
<script src="main.js" type="module"></script>
</body>
</html>